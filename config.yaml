# Path to the input CSV (absolute or relative)

# input_file: "./data/m07_0902.csv"
input_file: "/Volumes/SenzaiLab/Kai/#Recording/m10/251027/251027_2/251027.csv"
#input_file: "./results/20251027_1556_flt0_nm1_hddeg/251027_trimmed_flt0_nm1_hddeg.csv"


# Preprocess settings
preprocess:
  enable: true
  # optional: also copy the trimmed CSV
  output_file: null
  # optional: also copy the summary file
  summary_file: null

# Time interval in seconds. Use null for end to cover entire file.
interval:
  start_time: 0
  end_time: null

# Extra time markers in seconds to draw on plots
# Use null for no markers
time_markers:
  null
#  [10, 200]

# List of IDs (rigid-body base names) to analyze; empty = all
groups: [m10]

# Kinematics (smoothing) options
# Available methods: savgol / ema / window / lateral_inhibition

kinematics:
  smoothing: false
  smoothing_window: 10
  smoothing_polyorder: 2
  smoothing_method: window

# Filtering thresholds for speed values. Either speed of angular speed
filtering:
  enable: false

  speed_lower: 2000
  speed_upper: null
  angular_speed_lower: null
  angular_speed_upper: null

  x_lower: null
  x_upper: null
  y_lower: null
  y_upper: null
  z_lower: null
  z_upper: null

no_moving:
  enable: true
  # remove stretches where speed stays zero for at least this many frames
  window: 10
  # additionally drop this many frames after each no-movement period
  after: 10

# Output settings
output:
  plot_trajectory_2d: true
  plot_trajectory_3d: true
  plot_linear_speed: true
  plot_angular_speed: true

  # Plot customization
  full_size_plots: true
  x_limit: null
  y_limit: null

  export_speed_stats: true
  export_angular_stats: true

  export_speed: true

  export_filtered: true
  export_marker_list: false
  export_angular_speed: false

  export_metrics:
    enable: true
    metrics: [trajectory, speed, angular_speed ]
    format: csv

  export_head_direction: true
  head_direction:
    include_frames: true
    format: degrees  # degrees or quaternion
  output_dir: "./results"

# Logging configuration
logging:
  level: info
  file: run.log

# Settings for the interactive web application
webapp:
  port: 3010
